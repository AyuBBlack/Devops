1.	Что будет, если удалить /etc/hosts?

>Ответ: По идеи ничего критического не будет, так как файл hosts позволяет обойти DNS сервер и при указании доменного имени в адресной строке браузера, открыть сайт с IP адресом, указанным для домена в файле hosts, а не на DNS сервере, что может помочь при отсутствии доменного имени или же тестировании сайта на другом сервере, без перенаправления домена на него. Следовательно, при его отсутствии маршрут будет выстроен сразу на DNS сервер, если в настройках конфига так задано.

2.	Сколько запросов делает ваш DNS resolver, чтобы определить адрес www.google.co.jp?

>Ответ:

```
www.google.co.jp -4 +trace +nodnssec
;; global options: +cmd
.                       636     IN      NS      h.root-servers.net.
.                       636     IN      NS      g.root-servers.net.
.                       636     IN      NS      f.root-servers.net.
.                       636     IN      NS      e.root-servers.net.
.                       636     IN      NS      d.root-servers.net.
.                       636     IN      NS      c.root-servers.net.
.                       636     IN      NS      b.root-servers.net.
.                       636     IN      NS      a.root-servers.net.
.                       636     IN      NS      m.root-servers.net.
.                       636     IN      NS      l.root-servers.net.
.                       636     IN      NS      k.root-servers.net.
.                       636     IN      NS      j.root-servers.net.
.                       636     IN      NS      i.root-servers.net.
;; Received 239 bytes from 127.0.0.53#53(127.0.0.53) in 0 ms

jp.                     172800  IN      NS      a.dns.jp.
jp.                     172800  IN      NS      b.dns.jp.
jp.                     172800  IN      NS      c.dns.jp.
jp.                     172800  IN      NS      d.dns.jp.
jp.                     172800  IN      NS      e.dns.jp.
jp.                     172800  IN      NS      f.dns.jp.
jp.                     172800  IN      NS      g.dns.jp.
jp.                     172800  IN      NS      h.dns.jp.
;; Received 529 bytes from 199.9.14.201#53(b.root-servers.net) in 56 ms

google.co.jp.           86400   IN      NS      ns4.google.com.
google.co.jp.           86400   IN      NS      ns1.google.com.
google.co.jp.           86400   IN      NS      ns3.google.com.
google.co.jp.           86400   IN      NS      ns2.google.com.
;; Received 127 bytes from 161.232.72.25#53(h.dns.jp) in 184 ms

www.google.co.jp.       300     IN      A       142.251.1.94
;; Received 61 bytes from 216.239.36.10#53(ns3.google.com) in 36 ms
```
У меня на данной машине он делает 4 прохода.
 
3.	Какая SPF запись нужна для моего почтового сервера, чтобы его письма не заблокировали другие почтовые серверы?

>Ответ: v=spf1 ip4:<ip> a mx ~all, 

v=spf1 — определяет версию используемой записи SPF.
<ip> это IP-адрес сервера c которого будет отправлятся почта, 
записей типа ip4:<ip> может быть несколько и разрешает приём почты с этих IP-адресов.
a — разрешает приём почты с сервера, IP-адрес которого стоит в ресурсной 
    A-записи домена. Проще говоря, с сервера, где размещён сайт. 
    А запись связывает имя домена с IP-адресом сервера;
mx — разрешает приём почты, если отправляющий сервер указан в одной из 
    записей MX для домена. МХ запись - это запись, отвечающая за сервер или 
    список серверов, через который будет работать почта;
~all — если письмо пришло с сервера, который не входит в вышеперечисленный
    список, его стоит проанализировать не отклонять а помещать в спам.

Обычно хостинг-провайдер имеет рекомендации по базовой настройке записи SPF. Достаточно внести эти настройки. Некоторые хостинг-провайдеры автоматически вносят нужную запись SPF в DNS при настройке почты для вашего домена.

Но как правило каждая строка не может быть длиннее 450 символов, вся SPF-запись целиком должна получаться из DNS за не более чем 10 подзапросов в DNS, в ней не должно быть дублирующийся ссылок, рекурсий и ссылок на несуществующие записи, иметь не более 2 пустых подзапросов. 


4.	Применительно к протоколу http опишите что происходит при открытии в браузере http://innopolis.university. Опишите со всеми подробностями

>Ответ: 

```curl -ILv -X GET http://innopolis.university```

При отправке запроса на сервер иннополиса у нас система должна узнать айпишник, с чем нам помогает DNS. После получения ip у нас идет запрос на получение информации с сайта http://innopolis.university. Далее веб-сервер принимает этот запрос, обрабатывает и говорит, что сервер перемешен 301 и перемещает по протоколу https, далее идет рукопожатие ssl сертификата, подтверждает, что всё ок и обратно клиенту отображается html документ в нашем браузере, если, конечно, запрос был сделан через него.


5.	Как заблокировать исходящий почтовый трафик со своего компьютера чтобы предотвратить рассылку спама с машины?

>Ответ: как вариант можно заблокировать порты на исходящий трафик

```
sudo ufw deny out 25/tcp
sudo ufw deny out 587/tcp
sudo ufw deny out 465/tcp
```

6.	__Разверните сервер vsftpd, подробности в практическом задании в секции ftp. Можно приложить лог процесса передачи файла по ftp__

>Ответ:

Поднял сервер на вм яндекс клауда под адресом 51.250.69.110

Сделал установку 

```sudo apt-get install vsftpd```

Поменял конфиг файл sudo nano /etc/vsftpd.conf

Добавил нового пользователи и залил файл

```
Opening directory /files...
>>>  PWD
<<<  257 "/files" is the current directory
>>>  CWD /files
<<<  250 Directory successfully changed.
>>>  TYPE A
<<<  200 Switching to ASCII mode.
>>>  PASV
<<<  227 Entering Passive Mode (51,250,69,110,98,80).
>>>  LIST
<<<  150 Here comes the directory listing.
<<<  226 Directory send OK.
>>>  CWD /files
<<<  250 Directory successfully changed.
Directory /files opened. Showing file list...
```


